{{extend 'layout.html'}}

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8 main">

        <div class="row">
            <div class="col-xs-8">
                <h1>{{=user}}'s Profile</h1>

                <h2>Followers: {{=follower_count}}</h2>
                {{if user != auth.user.username:}}
                    {{if does_follow:}}
                        <button class="btn btn-success" onclick="ajax('{{=URL('follow',args=('unfollow',user))}}',[],null);$(this).parent().html('Unfollowed')">Following</button>
                    {{else:}}
                        <button onclick="ajax('{{=URL('follow',args=('follow',user))}}',[],null);$(this).parent().html('Followed')">Follow</button>
                    {{pass}}
                {{pass}}

            </div>
            {{if auth.user_id:}}
                <div class="col-xs-4"id="logout">
                    <a href="{{=URL('default','profile')}}" class="btn btn-primary">Profile</a>
                    <a href="{{=URL('default','user', args=['logout'])}}" class="btn btn-danger">Logout</a>
                    <a href="{{=URL('default','upload')}}" class="btn btn-info">Upload</a>
                    <a href="{{=URL('default','index')}}" class="btn btn-success">Home</a>
                </div>
            {{pass}}
        </div>

        <div>
            {{=bio}}
        </div>

        {{for image in images:}}
            <div>
                <img src="{{=URL('default', 'download', args=image.image_content)}}" />
                <br />
                <b>{{=user}}</b>: {{=image.caption}}
            </div>
        {{pass}}
    </div>

    <div class="col-md-2"></div>
</div>
